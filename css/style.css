/* Base */
* { box-sizing: border-box; }

html, body {
  scroll-behavior: smooth;
  margin: 0;
  padding: 0;
  font-family: 'Monument Grotesk', sans-serif;
  font-synthesis: none;
  overflow-x: hidden;
  line-height: 1;
  color: #000;
  height: 100%;
  overflow-y: scroll;
  scroll-snap-type: y mandatory;
  scroll-padding-top: 0;
}

/* Snap anchors */
.welcome { scroll-snap-align: start; }
.project { scroll-snap-align: center; scroll-snap-stop: always; min-height: 100%; }

/* Links */
a {
  font-family: 'Monument Grotesk', sans-serif;
  text-decoration: none;
  transition: .15s ease-in-out;
  color: #000;
  padding: 0;
  margin: 0;
  line-height: 1;
  display: inline-flex;
  position: relative;
}
.nav_col3 a { height: auto; }
a:hover { color: rgba(0,0,0,.3); cursor: pointer; }

/* Headings */
h1 {
  font-weight: 400;
  font-size: 7vw;
  margin: 0;
  padding: 8.75vw 0 0 1.5vw;
  color: #000;
  letter-spacing: -.019em;
  line-height: .82;
}

h2 {font-weight:400;}

/* Titles float so they never affect layout */
.project h2, .project h3 {
  position: absolute;
  left: 2vw;
  margin: 0;
  pointer-events: none;
  z-index: 4;
  letter-spacing: -.03em;
}
.project h2 { font-weight: 400; font-size: 2vw; top: 2vw; color: #000; }
.project h3 { font-weight: 300; font-size: 2vw; top: 4.6vw; color: transparent; }

.slash { margin: 0 0 0 .8vw; font-weight: 200; }

/* Top nav */
.nav {
  font-weight: 400;
  position: absolute;
  width: 100%;
  height: 6.9vw;
  padding: 1.4vw 0;
  margin: 0;
  z-index: 99999999;
  background: transparent;
  text-align: left;
  font-size: .86vw;
  border-bottom: 1px solid rgba(0,0,0,.1);
}
.nav_col1, .nav_col2, .nav_col3, .nav_col4 {
  position: absolute;
  width: 25%;
  padding: 0 2vw 0;
  line-height: 1.3;
  letter-spacing: .02em;
}
.nav_col1 { left: 0%; } .nav_col2 { left: 25%; } .nav_col3 { left: 50%; } .nav_col4 { left: 75%; }

/* Layout frames */
.content { position: absolute; width: 100%; height: auto; top: 2vw; }

.welcome {
  position: relative;
  top: 6.15vw;
  left: 0;
  height: 52.2vw;
  width: 100%;
  margin: 0 0 6.05vw;
  z-index: 99999;
  background: transparent;
  border-bottom: 1px solid rgba(0,0,0,.1);
}
.welcome_img {
  position: absolute;
  top: 5.98vw;
  left: 25%;
  height: 40.4vw;
  width: 70.76%;
  margin: 3.1vw 0 0 2vw;
  background: #000 url('http://mary-soroka.github.io/images/art/miners_reliquary/v/mary_soroka_miners_reliquary_v2.png') center/cover no-repeat;
}
.scroll { position: absolute; top: 43.8vw; left: 0; width: 100%; padding: 2vw; }

/* Project system */
.project {
  position: relative;
  width: 100%;
  height: 45vw;
  padding: 0 2vw;
  margin: 0;
  z-index: 999999;
  border-top: 1px solid rgba(0,0,0,.1);
  border-bottom: 1px solid rgba(0,0,0,.1);
}

.content-row {
  position: absolute;
  left: 25%;
  top: 0;
  width: 72%;
  display: flex;
  gap: 2.3vw;
  margin-top: 2vw;
}
.content-row.full .item { flex: 1 1 100%; }
.content-row.two .item { flex: 1 1 50%; }
.content-row.three .item { flex: 1 1 33.333%; }

.item {
  position: relative;
  height: 40.3vw;
  background-position: center;
  background-size: cover;
}
.item > img, .item > video, .item > iframe {
  position: absolute; inset: 0; width: 100%; height: 100%;
  object-fit: cover; border: 0; display: block;
}
.item.narrow { overflow: hidden; --zoom: 1; --tx: 0px; --ty: 0px; }
.item.narrow > iframe {
  top: 50%; left: 50%;
  transform: translate(calc(-50% + var(--tx)), calc(-50% + var(--ty))) scale(var(--zoom));
  transform-origin: center;
}

/* Vimeo control */
.vimeo-wrap { position: relative; }
.vimeo-ctl {
  position: absolute; right: 1.2vw; bottom: 1.2vw; z-index: 3;
  padding: 15px; background: transparent; color: #fff; height: 2vw;
  border: 1px solid #fff; border-radius: 25px; font: .8vw 'Monument Grotesk', sans-serif;
  letter-spacing: .04em; text-align: center; cursor: pointer; transition: .25s;
  display: flex; align-items: center; justify-content: center; opacity: .4;
}
.vimeo-ctl:hover { background: #fff; color: #000; opacity: 1; }

/* Parallax clusters */
.bg-field {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: -1;
}

.bg-cluster {
  position: absolute;
  left: 0;
  top: 0;
  /* cluster is pinned as a whole and scales together */
  transform: translate3d(0, var(--pinY, 0px), 0) scale(var(--s, 1));
  transform-origin: left top;
}

.bg-cluster .tile {
  position: absolute;
  width: var(--w, 26vw);
  height: var(--h, 14.5vw);
  background-size: cover;
  background-position: center;
  will-change: transform;
  backface-visibility: hidden;
  contain: paint;
}

/* Blur system */
:root { --blur:60px; --dur:.3s; }
.project,.bg-cluster { filter:blur(var(--blur));transition:filter var(--dur) ease-out;z-index:1; }
.project.active,.bg-cluster.active { filter:none;z-index:9999; }
.project.atmospheres { --blur:100px;--dur:3s; }
.bg-cluster[data-idx="0"] { --blur:100px;--dur:5s; }
.drama-done .project.atmospheres { --blur:20px;--dur:.3s; }
.drama-done .bg-cluster[data-idx="0"] { --blur:20px;--dur:.3s; }

/* White overlay until active */
.project::before {
  content: "";
  position: absolute; inset: 0;
  background: #fff; opacity: .4; pointer-events: none;
  transition: opacity var(--dur, .3s); z-index: 3;
}
.project.active::before { opacity: 0; }

/* Cluster vertical anchor offsets per project */
.bg-cluster[data-idx="0"] { --shiftVH: 60; }
.bg-cluster[data-idx="1"] { --shiftVH: 52; }
.bg-cluster[data-idx="2"] { --shiftVH: 42; }
.bg-cluster[data-idx="3"] { --shiftVH: 46; }
.bg-cluster[data-idx="4"] { --shiftVH: 48; }
.bg-cluster[data-idx="5"] { --shiftVH: 48; }
.bg-cluster[data-idx="6"] { --shiftVH: 58; }
.bg-cluster[data-idx="7"] { --shiftVH: 50; }
.bg-cluster[data-idx="8"] { --shiftVH: 54; }
.bg-cluster[data-idx="9"] { --shiftVH: 52; }
.bg-cluster[data-idx="10"] { --shiftVH: 50; }

/* Cluster imagery positions (unchanged composition) */
/* 0_ATMOSPHERES */
.bg-cluster[data-idx="0"] .t1{left:8vw;top:20vh;background-image:url('http://mary-soroka.github.io/images/art/atmospheres/h/mary_soroka_atmospheres_h3.png')}
.bg-cluster[data-idx="0"] .t3{left:12vw;top:30vh;background-image:url('http://mary-soroka.github.io/images/art/atmospheres/h/mary_soroka_atmospheres_h2.png')}
.bg-cluster[data-idx="0"] .t2{left:63vw;top:25vh;background-image:url('http://mary-soroka.github.io/images/art/atmospheres/h/mary_soroka_atmospheres_h1.png')}

/* 1_CANTICLE */
.bg-cluster[data-idx="1"] .t2{left:-12vw;top:78vh;background-image:url('http://mary-soroka.github.io/images/art/canticle/h/mary_soroka_canticle_h2.png')}
.bg-cluster[data-idx="1"] .t1{left:5.5vw;top:62.5vh;background-image:url('http://mary-soroka.github.io/images/art/canticle/h/mary_soroka_canticle_h1.png')}
.bg-cluster[data-idx="1"] .t3{left:23vw;top:81vh;background-image:url('http://mary-soroka.github.io/images/art/canticle/h/mary_soroka_canticle_h3.png')}
.bg-cluster[data-idx="1"] .t4{left:90vw;top:74vh;background-image:url('http://mary-soroka.github.io/images/art/canticle/h/mary_soroka_canticle_h4.png')}

/* 2_CRADLE */
.bg-cluster[data-idx="2"] .t3{left:-15vw;top:67vh;background-image:url('http://mary-soroka.github.io/images/art/cradle/h/mary_soroka_cradle_h3.png')}
.bg-cluster[data-idx="2"] .t1{left:8vw;top:56vh;background-image:url('http://mary-soroka.github.io/images/art/cradle/h/mary_soroka_cradle_h1.png')}
.bg-cluster[data-idx="2"] .t2{left:13.5vw;top:76vh;background-image:url('http://mary-soroka.github.io/images/art/cradle/h/mary_soroka_cradle_h2.png')}
.bg-cluster[data-idx="2"] .t4{left:88vw;top:70vh;background-image:url('http://mary-soroka.github.io/images/art/cradle/h/mary_soroka_cradle_h4.png')}

/* 3_SELF */
.bg-cluster[data-idx="3"] .t1{display:none;left:6vw;top:62vh;background-image:url('http://mary-soroka.github.io/images/art/self/h/mary_soroka_self_h2.png')}
.bg-cluster[data-idx="3"] .t2{left:10vw;top:78vh;background-image:url('http://mary-soroka.github.io/images/art/self/h/mary_soroka_self_h3.png')}
.bg-cluster[data-idx="3"] .t3{left:83vw;top:59vh;background-image:url('http://mary-soroka.github.io/images/art/self/h/mary_soroka_self_h1.png')}
.bg-cluster[data-idx="3"] .t4{left:48;top:60vh;background-image:url('http://mary-soroka.github.io/images/art/self/h/mary_soroka_self_h4.png')}

/* 4_MEMORY_BROKER */
.bg-cluster[data-idx="4"] .t1{left:-5vw;top:72vh;background-image:url('http://mary-soroka.github.io/images/art/memory_broker/h/mary_soroka_memory_broker_h1.png')}
.bg-cluster[data-idx="4"] .t3{left:13vw;top:80vh;background-image:url('http://mary-soroka.github.io/images/art/memory_broker/h/mary_soroka_memory_broker_h3.png')}
.bg-cluster[data-idx="4"] .t4{left:90vw;top:64vh;background-image:url('http://mary-soroka.github.io/images/art/memory_broker/h/mary_soroka_memory_broker_h4.png')}

/* 5_UPSIDE_DOWN */
.bg-cluster[data-idx="5"] .t1{left:10vw;top:80vh;background-image:url('http://mary-soroka.github.io/images/art/upside_down/h/mary_soroka_upside_down_h1.png')}
.bg-cluster[data-idx="5"] .t2{left:18vw;top:60vh;background-image:url('http://mary-soroka.github.io/images/art/upside_down/h/mary_soroka_upside_down_h2.png')}
.bg-cluster[data-idx="5"] .t3{left:86vw;top:60vh;background-image:url('http://mary-soroka.github.io/images/art/upside_down/h/mary_soroka_upside_down_h3.png')}
.bg-cluster[data-idx="5"] .t4{left:-19.5vw;top:85vh;background-image:url('http://mary-soroka.github.io/images/art/upside_down/h/mary_soroka_upside_down_h4.png')}

/* 6_MINERS_RELIQUARY */
.bg-cluster[data-idx="6"] .t2{left:2vw;top:89vh;background-image:url('http://mary-soroka.github.io/images/art/miners_reliquary/h/mary_soroka_miners_reliquary_h2.png')}
.bg-cluster[data-idx="6"] .t1{left:10vw;top:70vh;background-image:url('http://mary-soroka.github.io/images/art/miners_reliquary/h/mary_soroka_miners_reliquary_h4.png')}

/* 7_HALF_LIGHT_PROTOCOL */
.bg-cluster[data-idx="7"] .t1{left:-12vw;top:78vh;background-image:url('http://mary-soroka.github.io/images/art/half_light_protocol/h/mary_soroka_half_light_protocol_h3.png')}
.bg-cluster[data-idx="7"] .t2{left:10vw;top:66vh;background-image:url('http://mary-soroka.github.io/images/art/half_light_protocol/h/mary_soroka_half_light_protocol_h2.png')}
.bg-cluster[data-idx="7"] .t4{left:92vw;top:72vh;background-image:url('http://mary-soroka.github.io/images/art/half_light_protocol/h/mary_soroka_half_light_protocol_h4.png')}

/* 8_SILK */
.bg-cluster[data-idx="8"] .t1{left:8vw;top:70vh;background-image:url('http://mary-soroka.github.io/images/art/silk/h/mary_soroka_silk_h1.png')}
.bg-cluster[data-idx="8"] .t2{left:60vw;top:85vh;background-image:url('http://mary-soroka.github.io/images/art/silk/h/mary_soroka_silk_h2.png')}
.bg-cluster[data-idx="8"] .t3{left:12vw;top:87vh;background-image:url('http://mary-soroka.github.io/images/art/silk/h/mary_soroka_silk_h3.png')}

/* Back to top */
#backToTop{position:fixed;left:0;right:0;bottom:-.5px;height:44vw;display:flex;align-items:flex-end;justify-content:center;padding:10vw 0 3vw;opacity:0;pointer-events:none;z-index:2147483647}
#backToTop.visible{opacity:1;pointer-events:auto}
#backToTop h2{margin:0;color:rgba(0,0,0,.3);transition:color .2s;cursor:pointer}
#backToTop h2:hover{color:#000}
#backToTop .btp-overlay{
  position:absolute;inset:0;pointer-events:none;z-index:-1;background:rgba(255,255,255,.001);
  -webkit-mask-image:linear-gradient(to bottom,transparent 0,black 65%);
          mask-image:linear-gradient(to bottom,transparent 0,black 65%);
  -webkit-backdrop-filter:blur(0);backdrop-filter:blur(0);
  transition:backdrop-filter .2s,-webkit-backdrop-filter .2s,background .2s
}
#backToTop:has(h2:hover) .btp-overlay{
  background:rgba(255,255,255,.22);
  -webkit-backdrop-filter:blur(3vw);backdrop-filter:blur(3vw)
}

